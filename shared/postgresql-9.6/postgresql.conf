# -----------------------------
# PostgreSQL configuration file
# -----------------------------
#
# This file consists of lines of the form:
#	name = value
# The '=' is optional (a whitespace may be used).
# 
# Comments are introduced with '#' anywhere on a line. Documentation of each
# setting can be found through:
# 	https://www.postgresql.org/docs/9.6/static/runtime-config.html
#	https://www.postgresql.org/docs/9.6/static/bookindex.html
#
# The commented-out settings shown in this file represent the default values.
# Re-commenting a setting is NOT sufficient to revert it to the default value;
# you need to reload the server. Two ways to do that:
# 1) Send the server a SIGHUP signal (when the server is running).
# 2) Execute 'pg_ctl reload'. For some settings to take effect, the server has
# to be restarted using this command.
#
# Any parameter can also be given as a command-line option to the server, e.g.,
# "postgres -c log_connections=on".  Some parameters can be changed at run time
# with the "SET" SQL command.
#
# Memory units:  kB = kilobytes        Time units:  ms  = milliseconds
#                MB = megabytes                     s   = seconds
#                GB = gigabytes                     min = minutes
#                TB = terabytes                     h   = hours
#                                                   d   = days
# -----------------------------

#------------------------------------------------------------------------------
# FILE LOCATIONS
#------------------------------------------------------------------------------

# The default values of these variables are driven from the -D command-line
# option or PGDATA environment variable, represented here as ConfigDir.

# Change the base folder from which relative paths to configuration files can be
# derived. Requires restart.
#data_directory = 'ConfigDir'

# Change the location of each configuraton file. Requires restart.
#hba_file = 'ConfigDir/pg_hba.conf'
#ident_file = 'ConfigDir/pg_ident.conf'
#external_pid_file = ''

# Note: if 'external_pid_file' is not explicitly set, no extra PID file is written.

#------------------------------------------------------------------------------
# CONNECTIONS AND AUTHENTICATION
#------------------------------------------------------------------------------

# A comma-separated list of IP addresses to listen on. Change requires restart.
# Default: 'localhost'.
# Use '*' for all (e.g. when you want to allow remote access with pgAdmin).
listen_addresses = '*'

# The port on which to listen. Change requires restart.
#port = 5432

# Maximum number of concurrent connections. Change requires restart.
max_connections = 10

# How many connections from 'max_connections' to reserve for super users. Change
# requires restart.
#superuser_reserved_connections = 3

# Comma-separated list of unix socket directories. Change requires restart.
#unix_socket_directories = '/tmp'

# Change requires restart.
#unix_socket_group = ''

# Change requires restart.
# Note: begin with 0 to use octal notation.
#unix_socket_permissions = 0777

# Advertise server via Bonjour? Change requires restart.
#bonjour = off

# If so, set the Bonjour name. Change requires restart.
# Default: computer name.
#bonjour_name = ''

# Timeout for auth operations. Minimum: 1s. Maximum: 600s.
#authentication_timeout = 1min

# Enable/disable SSL/TLS support for TCP/IP connections. Change requires restart.
#ssl = off

# Path to the certificate to send to clients. Change requires restart.
#ssl_cert_file = 'server.crt'

# Path to the certificate's private key. Change requires restart.
#ssl_key_file = 'server.key'

# Path to the certificate's certificate authority. Change requires restart.
#ssl_ca_file = ''

# Path to the certificate's certificate authority's CRL. Change requires restart.
#ssl_crl_file = ''

# Set allowed SSL/TLS ciphersuites. Change requires restart.
# PostgreSQL's defaults are generally pretty insecure. Refer to:
#	https://wiki.openssl.org/index.php/Manual:Ciphers(1)
# 	https://www.owasp.org/index.php/Transport_Layer_Protection_Cheat_Sheet
# Note: optionally, I highly recommend applying '!SHA1' too as there are known
# attacks against this cryptographic hash function and plans are in motion for
# it to be deprecated in regard to the SSL/TLS protocols. I believe some browsers
# have disabled it already. For more information, see:
#	https://www.entrust.com/sha-1-2017/
ssl_ciphers = 'HIGH:MEDIUM:!LOW:!EXP:!PSK:!ADH:!AECDH:!DSS:!ECDSA:!RC4:!SEED:!IDEA:!MD5:!aNULL:!eNULL:!NULL'

# Should definitely be enabled. Change requires restart.
#ssl_prefer_server_ciphers = on

# The implicit elliptic curve to use when TLS < 1.2 and ECDH or ECDHE key exchange
# are negotiated. 'prime256v1' is selected because it should be supported by all
# clients. Change requires restart.
# ssl_ecdh_curve = 'prime256v1'

# Always encrypt database user passwords by default.
#password_encryption = on

# Some remaining settings:
#db_user_namespace = off
#row_security = on

# GSSAPI using Kerberos...
#krb_server_keyfile = ''
#krb_caseins_users = off

# TCP_KEEPIDLE, in seconds. 0 selects the system default.
# Note: see "man 7 tcp" for details.
#tcp_keepalives_idle = 0

# TCP_KEEPINTVL, in seconds. 0 selects the system default.
# Note: see "man 7 tcp" for details.
#tcp_keepalives_interval = 0

# TCP_KEEPCNT. 0 selects the system default.
# Note: see "man 7 tcp" for details.
#tcp_keepalives_count = 0

#------------------------------------------------------------------------------
# RESOURCE USAGE (except WAL)
#------------------------------------------------------------------------------


# Minimum: 128kB. Change requires restart.
shared_buffers = 128MB

# Values: 'on', 'off' or 'try'. Change requires restart.
#huge_pages = try

# Minimum: 800kB.
#temp_buffers = 8MB

# 0 disables the feature. Note that it is not advisable to enable this feature
# unless you really intend to use prepared transactions. Change requires restart.
#max_prepared_transactions = 0

# Minimum: 64kB.
#work_mem = 4MB

# Minimum: 1MB.
#maintenance_work_mem = 64MB

# Minimum: 1MB. The value of '-1' signals that 'maintenance_work_mem' should be
# used.
#autovacuum_work_mem = -1

# Limits use of replacement selection sort.
#replacement_sort_tuples = 150000

# Minimum: 100kB.
#max_stack_depth = 2MB

# Values: 'posix', 'sysv', 'windows', 'mmap' or 'none'.
dynamic_shared_memory_type = sysv

# Limits per-process temp file space. In kB, or '-1' for no limit.
#temp_file_limit = -1

# Minimum: 25. Change requires restart.
#max_files_per_process = 1000

# Change requires restart.
#shared_preload_libraries = ''

# - Cost-Based Vacuum Delay -

#vacuum_cost_delay = 0			# 0-100 milliseconds
#vacuum_cost_page_hit = 1		# 0-10000 credits
#vacuum_cost_page_miss = 10		# 0-10000 credits
#vacuum_cost_page_dirty = 20	# 0-10000 credits
#vacuum_cost_limit = 200		# 1-10000 credits

# - Background Writer -

#bgwriter_delay = 200ms			# 10-10000ms between rounds
#bgwriter_lru_maxpages = 100	# 0-1000 max buffers written/round
#bgwriter_lru_multiplier = 2.0	# 0-10.0 multiplier on buffers scanned/round
#bgwriter_flush_after = 512kB	# measured in pages, 0 disables

# - Asynchronous Behavior -

#effective_io_concurrency = 1			# 1-1000; 0 disables prefetching
#max_worker_processes = 8				# (change requires restart)
#max_parallel_workers_per_gather = 0	# taken from max_worker_processes
#old_snapshot_threshold = -1			# 1min-60d; -1 disables; 0 is immediate
										# (change requires restart)
#backend_flush_after = 0				# measured in pages, 0 disables

#------------------------------------------------------------------------------
# WRITE AHEAD LOG
#------------------------------------------------------------------------------

# Values: 'minimal', 'replica' or 'logical'. Change requires restart.
#wal_level = minimal

# Flush data to disk for crash safety. As such, disabling this option may cause
# unrecoverable data corruption.
#fsync = on

# Synchronization level. Values: 'on', 'off', 'local', 'remote_write' or 'remote_apply'.
#synchronous_commit = on

# Values: 'open_datasync', 'fdatasync' (default on Linux), 'fsync', 'fsync_writethrough'
# or 'open_sync'.
#wal_sync_method = fsync

# Shall we recover from partial page writes?
#full_page_writes = on

# Enable compression of full-page writes?
#wal_compression = off

# Shall we also perform full page writes of non-critical updates? Change requires restart.
#wal_log_hints = off

# Minimum: 32kB. The value of '-1' sets in accordance with 'shared_buffers'. Change
# requires restart.
#wal_buffers = -1

# Minimum: 1ms. Maximum: 10000ms.
#wal_writer_delay = 200ms

# Measured in pages, 0 disables.
#wal_writer_flush_after = 1MB

# In microseconds. Minimum: 0. Maximum: 100000.
#commit_delay = 0

# Minimum: 1. Maximum: 1000.
#commit_siblings = 5

# Minimum: 30s. Maximum: 1d.
#checkpoint_timeout = 5min

#max_wal_size = 1GB
#min_wal_size = 80MB

# Checkpoint target duration. Minimum: 0.0. Maximum: 1.0.
#checkpoint_completion_target = 0.5

# Measured in pages, 0 disables.
#checkpoint_flush_after = 256kB

# 0 disables.
#checkpoint_warning = 30s

# Values: 'on', 'off' or 'always'. Change requires restart.
#archive_mode = off

# Command to use to archive a logfile segment.
# Placeholders:
#	%p = path of file to archive
# 	%f = file name only
# Example:
#	'test ! -f /mnt/server/archivedir/%f && cp %p /mnt/server/archivedir/%f'
#archive_command = ''

# Force a logfile segment switch after this. Number of seconds, 0 disables.
#archive_timeout = 0

#------------------------------------------------------------------------------
# REPLICATION
#------------------------------------------------------------------------------

# - Sending Server(s) -

# Set these on the master and on any standby that will send replication data.

#max_wal_senders = 0		# max number of walsender processes
				# (change requires restart)
#wal_keep_segments = 0		# in logfile segments, 16MB each; 0 disables
#wal_sender_timeout = 60s	# in milliseconds; 0 disables

#max_replication_slots = 0	# max number of replication slots
				# (change requires restart)
#track_commit_timestamp = off	# collect timestamp of transaction commit
				# (change requires restart)

# - Master Server -

# These settings are ignored on a standby server.

#synchronous_standby_names = ''	# standby servers that provide sync rep
				# number of sync standbys and comma-separated list of application_name
				# from standby(s); '*' = all
#vacuum_defer_cleanup_age = 0	# number of xacts by which cleanup is delayed

# - Standby Servers -

# These settings are ignored on a master server.

#hot_standby = off			# "on" allows queries during recovery
					# (change requires restart)
#max_standby_archive_delay = 30s	# max delay before canceling queries
					# when reading WAL from archive;
					# -1 allows indefinite delay
#max_standby_streaming_delay = 30s	# max delay before canceling queries
					# when reading streaming WAL;
					# -1 allows indefinite delay
#wal_receiver_status_interval = 10s	# send replies at least this often
					# 0 disables
#hot_standby_feedback = off		# send info from standby to prevent
					# query conflicts
#wal_receiver_timeout = 60s		# time that receiver waits for
					# communication from master
					# in milliseconds; 0 disables
#wal_retrieve_retry_interval = 5s	# time to wait before retrying to
					# retrieve WAL after a failed attempt

#------------------------------------------------------------------------------
# QUERY TUNING
#------------------------------------------------------------------------------

# - Planner Method Configuration -

#enable_bitmapscan = on
#enable_hashagg = on
#enable_hashjoin = on
#enable_indexscan = on
#enable_indexonlyscan = on
#enable_material = on
#enable_mergejoin = on
#enable_nestloop = on
#enable_seqscan = on
#enable_sort = on
#enable_tidscan = on

# - Planner Cost Constants -

#seq_page_cost = 1.0			# measured on an arbitrary scale
#random_page_cost = 4.0			# same scale as above
#cpu_tuple_cost = 0.01			# same scale as above
#cpu_index_tuple_cost = 0.005		# same scale as above
#cpu_operator_cost = 0.0025		# same scale as above
#parallel_tuple_cost = 0.1		# same scale as above
#parallel_setup_cost = 1000.0	# same scale as above
#min_parallel_relation_size = 8MB
#effective_cache_size = 4GB

# - Genetic Query Optimizer -

#geqo = on
#geqo_threshold = 12
#geqo_effort = 5			# range 1-10
#geqo_pool_size = 0			# selects default based on effort
#geqo_generations = 0			# selects default based on effort
#geqo_selection_bias = 2.0		# range 1.5-2.0
#geqo_seed = 0.0			# range 0.0-1.0

# - Other Planner Options -

#default_statistics_target = 100	# range 1-10000
#constraint_exclusion = partition	# on, off, or partition
#cursor_tuple_fraction = 0.1		# range 0.0-1.0
#from_collapse_limit = 8
#join_collapse_limit = 8		# 1 disables collapsing of explicit
					# JOIN clauses
#force_parallel_mode = off

#------------------------------------------------------------------------------
# ERROR REPORTING AND LOGGING
#------------------------------------------------------------------------------

# - Where to Log -

# Values: 'stderr', 'csvlog', 'syslog' and 'eventlog'. Values can be combined
# and mostly depend on platform. Furthermore, 'csvlog' requires 'logging_collector'
# to be enabled.
#log_destination = 'stderr'

# Enable capturing of 'stderr' and 'csvlog' into log files? Required to be on for
# csvlogs. Change requires restart.
#logging_collector = off

# - If 'logging_collector = on' -

# Directory where log files are written. Either absolute or relative to PGDATA.
#log_directory = 'pg_log'

# Log file name pattern. Can include strftime() escapes.
#log_filename = 'postgresql-%Y-%m-%d_%H%M%S.log'

# Creation mode for log files. Begin with 0 to use octal notation.
#log_file_mode = 0600

# Should an existing log file with the same name as a new one get truncated?
# Note: opportunity for conflicting log file names only arrives on time-driven
# rotations. By default, the new log messages will only be appended.
#log_truncate_on_rotation = off

# After how much should we perform automatic rotation of log files? 0 disables.
#log_rotation_age = 1d

# After how much written data should we perform automatic rotation of log files?
# 0 disables.
#log_rotation_size = 10MB

# These are relevant when logging to syslog:
#syslog_facility = 'LOCAL0'
#syslog_ident = 'postgres'
#syslog_sequence_numbers = on
#syslog_split_messages = on

# This is only relevant when logging to eventlog (win32):
#event_source = 'PostgreSQL'

# - When to Log -

# Values in order of decreasing detail: 'debug5', 'debug4', 'debug3', 'debug2',
# 'debug1', 'log', 'notice', 'warning' or 'error'.
#client_min_messages = notice

# Values in order of decreasing detail: 'debug5', 'debug4', 'debug3', 'debug2',
# 'debug1', 'info', 'notice', 'warning', 'error', 'log', 'fatal' or 'panic'.
#log_min_messages = warning

# Values in order of decreasing detail: 'debug5', 'debug4', 'debug3', 'debug2',
# 'debug1', 'info', 'notice', 'warning', 'error', 'log', 'fatal' or 'panic'.
#log_min_error_statement = error

# '-1' disables. 0 logs all statements and their durations. More than 0 logs
# only statements running at least this number of milliseconds.
#log_min_duration_statement = -1

# - What to Log -

#debug_print_parse = off
#debug_print_rewritten = off
#debug_print_plan = off
#debug_pretty_print = on
#log_checkpoints = off
#log_connections = off
#log_disconnections = off
#log_duration = off
#log_error_verbosity = default		# 'terse', 'default' or 'verbose'
#log_hostname = off

# Special values:
# 	%a = application name
# 	%u = user name
#   %d = database name
#   %r = remote host and port
#   %h = remote host
#   %p = process ID
#   %t = timestamp without milliseconds
#   %m = timestamp with milliseconds
#   %n = timestamp with milliseconds (as a Unix epoch)
#   %i = command tag
#   %e = SQL state
#   %c = session ID
#   %l = session line number
#   %s = session start timestamp
#   %v = virtual transaction ID
#   %x = transaction ID (0 if none)
#   %q = stop here in non-session processes
#   %% = '%'
# Example:
#	'<%u%%%d> '
log_line_prefix = '<%m> (A=%a; U=%u; D=%d):'

#log_lock_waits = off			# log lock waits >= deadlock_timeout
#log_statement = 'none'			# none, ddl, mod, all
#log_replication_commands = off

# Log temporary files equal or larger than the specified size in kilobytes;
# -1 disables, 0 logs all temp files.
#log_temp_files = -1

log_timezone = 'Europe/Amsterdam'

# - Process Title -

# Added to process titles if nonempty. Change requires restart.
#cluster_name = ''

#update_process_title = on

#------------------------------------------------------------------------------
# RUNTIME STATISTICS
#------------------------------------------------------------------------------

# - Query/Index Statistics Collector -

#track_activities = on
#track_counts = on
#track_io_timing = off
#track_functions = none			# none, pl, all
#track_activity_query_size = 1024	# (change requires restart)
#stats_temp_directory = 'pg_stat_tmp'

# - Statistics Monitoring -

#log_parser_stats = off
#log_planner_stats = off
#log_executor_stats = off
#log_statement_stats = off

#------------------------------------------------------------------------------
# AUTOVACUUM PARAMETERS
#------------------------------------------------------------------------------

# Enable autovacuum subprocess? Also requires 'track_counts'.
#autovacuum = on

# -1 disables. 0 logs all actions and their durations. More than 0 logs only
# actions running at least this number of milliseconds.
#log_autovacuum_min_duration = -1

# Max number of autovacuum subprocesses. Change requires restart.
autovacuum_max_workers = 1

# Time between autovacuum runs.
autovacuum_naptime = 1d

# Min number of row updates before vacuum.
#autovacuum_vacuum_threshold = 50

# Min number of row updates before analyze.
#autovacuum_analyze_threshold = 50

# Fraction of table size before vacuum.
#autovacuum_vacuum_scale_factor = 0.2

# Fraction of table size before analyze.
#autovacuum_analyze_scale_factor = 0.1

# Maximum XID age before forced vacuum. Change requires restart.
#autovacuum_freeze_max_age = 200000000

# Maximum multixact age before forced vacuum. Change requires restart.
#autovacuum_multixact_freeze_max_age = 400000000

# Default vacuum cost delay for autovacuum, in milliseconds; -1 means
# use vacuum_cost_delay.
#autovacuum_vacuum_cost_delay = 20ms

# Default vacuum cost limit for autovacuum, -1 means use vacuum_cost_limit.
#autovacuum_vacuum_cost_limit = -1

#------------------------------------------------------------------------------
# CLIENT CONNECTION DEFAULTS
#------------------------------------------------------------------------------

# - Statement Behavior -

#search_path = '"$user", public'	# schema names
#default_tablespace = ''			# a tablespace name, '' uses the default
#temp_tablespaces = ''				# a list of tablespace names, '' uses
									# only default tablespace
#check_function_bodies = on
#default_transaction_isolation = 'read committed'
#default_transaction_read_only = off
#default_transaction_deferrable = off
#session_replication_role = 'origin'
#statement_timeout = 0				# in milliseconds, 0 is disabled
#lock_timeout = 0					# in milliseconds, 0 is disabled
#idle_in_transaction_session_timeout = 0		# in milliseconds, 0 is disabled
#vacuum_freeze_min_age = 50000000
#vacuum_freeze_table_age = 150000000
#vacuum_multixact_freeze_min_age = 5000000
#vacuum_multixact_freeze_table_age = 150000000
#bytea_output = 'hex'				# hex, escape
#xmlbinary = 'base64'
#xmloption = 'content'
#gin_fuzzy_search_limit = 0
#gin_pending_list_limit = 4MB

# - Locale and Formatting -

datestyle = 'iso, mdy'
#intervalstyle = 'postgres'
timezone = 'Europe/Amsterdam'

# Select the set of available time zone abbreviations. Currently, there are:
# 	Default
# 	Australia (historical usage)
# 	India
# You can create your own file in share/timezonesets/.
#timezone_abbreviations = 'Default'

#extra_float_digits = 0			# min -15, max 3
#client_encoding = sql_ascii	# actually, defaults to database encoding

# These settings are initialized by initdb, but they can be changed.
lc_messages = 'en_US.UTF-8'			# locale for system error message strings
lc_monetary = 'en_US.UTF-8'			# locale for monetary formatting
lc_numeric = 'en_US.UTF-8'			# locale for number formatting
lc_time = 'en_US.UTF-8'				# locale for time formatting

# default configuration for text search
default_text_search_config = 'pg_catalog.english'

# - Other Defaults -

#dynamic_library_path = '$libdir'
#local_preload_libraries = ''
#session_preload_libraries = ''

#------------------------------------------------------------------------------
# LOCK MANAGEMENT
#------------------------------------------------------------------------------

#deadlock_timeout = 1s

# Minimum: 10. Change requires restart.
#max_locks_per_transaction = 64

# Minimum: 10. Change requires restart.
#max_pred_locks_per_transaction = 64

#------------------------------------------------------------------------------
# ERROR HANDLING
#------------------------------------------------------------------------------

#exit_on_error = off			# terminate session on any error?
#restart_after_crash = on		# reinitialize after backend crash?

#------------------------------------------------------------------------------
# CONFIG FILE INCLUDES
#------------------------------------------------------------------------------

# These options allow settings to be loaded from files other than the
# default postgresql.conf.

# Include files ending in '.conf' from directory 'conf.d':
#include_dir = 'conf.d'

# Include file only if it exists:
#include_if_exists = 'exists.conf'

# Include file:
#include = 'special.conf'

#------------------------------------------------------------------------------
# CUSTOMIZED OPTIONS
#------------------------------------------------------------------------------

# Add settings for extensions here
